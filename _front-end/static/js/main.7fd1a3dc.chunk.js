(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{115:function(e,t,a){e.exports=a(281)},121:function(e,t,a){},122:function(e,t,a){},124:function(e,t,a){},170:function(e,t){},173:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},279:function(e,t,a){},280:function(e,t,a){},281:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(109),o=a.n(s);a(120),a(121),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i,c=a(8),l=a(13),u=a(15),p=a(14),m=(a(122),a(17)),d=a(16),v=a(5),h=a.n(v),f=a(10),g=(a(124),a(9)),E=a.n(g),b=a(110),y=a(3);!function(e){e[e.SaveAllVacations=0]="SaveAllVacations",e[e.SaveAllFollows=1]="SaveAllFollows",e[e.PrepareVacationsForUser=2]="PrepareVacationsForUser",e[e.saveOneVacation=3]="saveOneVacation",e[e.addOneVacation=4]="addOneVacation",e[e.deleteOneVacation=5]="deleteOneVacation",e[e.AddFollow=6]="AddFollow",e[e.RemoveFollow=7]="RemoveFollow"}(i||(i={}));var k=function e(t,a,r,n,s){Object(c.a)(this,e),this.firstName=t,this.lastName=a,this.userName=r,this.password=n,this.isAdmin=s},x=Object(b.a)((function(e,t){var a=Object(y.a)({},e);switch(t.type){case i.SaveAllFollows:a.follows=t.payload;break;case i.SaveAllVacations:a.vacations=t.payload;break;case i.saveOneVacation:for(var r in a.vacations)if(a.vacations[r].vacationId===t.payload.vacationId){var n=a.vacations[r].follows,s=a.vacations[r].isFollow;a.vacations[r]=t.payload,a.vacations[r].follows=n,a.vacations[r].isFollow=s}break;case i.addOneVacation:a.vacations.push(t.payload);break;case i.deleteOneVacation:a.vacations=a.vacations.filter((function(e){return e.vacationId!==t.payload}));break;case i.AddFollow:a.follows.push(t.payload);break;case i.RemoveFollow:a.follows=a.follows.filter((function(e){return e.followId!==t.payload}));break;case i.PrepareVacationsForUser:var o=0;a.vacations.forEach((function(e){e.isFollow=!1,a.follows.forEach((function(t){t.vacationId===e.vacationId&&(o++,t.userName===JSON.parse(sessionStorage.getItem("user")).userName&&(e.isFollow=!0))})),e.follows=o,o=0}));var c=a.vacations.filter((function(e){return!0===e.isFollow})),l=a.vacations.filter((function(e){return!1===e.isFollow}));a.vacations=c.concat(l)}return a}),new function e(){Object(c.a)(this,e),this.vacations=void 0,this.follows=void 0,this.user=void 0,this.vacations=[],this.follows=[],this.user=new k}),S=function e(t,a,r){Object(c.a)(this,e),this.followId=t,this.userName=a,this.vacationId=r},w=a(11),O=a(21),j=a(46),D=a(282),N=a(24),I=a.n(N),C=(a(173),a(25)),U=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={user:new k},r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){if(sessionStorage.getItem("user")){var e=JSON.parse(sessionStorage.getItem("user"));this.setState({user:e})}}},{key:"logOut",value:function(){sessionStorage.clear()}},{key:"render",value:function(){return n.a.createElement("div",{className:"nav-bar"},n.a.createElement("div",{className:"nav-container"},n.a.createElement("nav",null,this.state.user.isAdmin?n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(m.b,{to:"/",exact:!0},"Home")),n.a.createElement("li",null,n.a.createElement(m.b,{to:"/admin",exact:!0}," Edit Vacation ")),n.a.createElement("li",null,n.a.createElement(m.b,{to:"/admin/add",exact:!0}," Add Vacation")),n.a.createElement("li",null,n.a.createElement(m.b,{to:"/purchases",exact:!0}," Purchases")),n.a.createElement("li",null,n.a.createElement(m.b,{to:"/reports",exact:!0}," Reports "))):n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(m.b,{to:"/",exact:!0},"Home"))),n.a.createElement("div",{className:"user"},n.a.createElement("div",null," Hello ",this.state.user.userName," "),n.a.createElement("div",null,n.a.createElement(m.b,{to:"/login",exact:!0},n.a.createElement(C.a,{onClick:this.logOut},"Log out")))))),n.a.createElement("div",{className:"space"}))}}]),a}(r.Component),F=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"_initialize",value:function(){e.serverUrl="https://itay-vacations.herokuapp.com"}}]),e}();F.serverUrl=void 0,F._initialize();var A=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).unsubscribeStore=void 0,r.socket=void 0,r.addFollow=function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new S).userName=JSON.parse(sessionStorage.getItem("user")).userName,a.vacationId=t,e.prev=3,e.next=6,E.a.post(F.serverUrl+"/api/follows",a);case 6:r.socket.emit("user-changed-a-follow-from-client"),e.next=18;break;case 9:if(e.prev=9,e.t0=e.catch(3),"Your login session has expired"!==e.t0.response.data){e.next=17;break}return sessionStorage.clear(),r.props.history.push("/login"),e.abrupt("return");case 17:alert(e.t0);case 18:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),r.removeFollow=function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.parse(sessionStorage.getItem("user")).userName,n=r.state.follows.find((function(e){return e.userName===a&&e.vacationId===t})),e.prev=2,e.next=5,E.a.delete("".concat(F.serverUrl,"/api/follows/").concat(n.followId));case 5:r.socket.emit("user-changed-a-follow-from-client"),e.next=17;break;case 8:if(e.prev=8,e.t0=e.catch(2),"Your login session has expired"!==e.t0.response.data){e.next=16;break}return sessionStorage.clear(),r.props.history.push("/login"),e.abrupt("return");case 16:alert(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),r.state={vacations:x.getState().vacations,follows:x.getState().follows},r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,r,n,s=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sessionStorage.getItem("token")&&sessionStorage.getItem("user")){e.next=3;break}return this.props.history.push("/login"),e.abrupt("return");case 3:if(this.socket=I.a.connect("http://localhost:3000"),this.unsubscribeStore=x.subscribe((function(){var e=x.getState().vacations,t=x.getState().follows;s.setState({vacations:e,follows:t})})),x.getState().follows.length>0&&x.getState().vacations.length>0){e.next=29;break}return e.prev=6,e.next=9,E.a.get(F.serverUrl+"/api/vacations");case 9:return t=e.sent,a=t.data,e.next=13,E.a.get(F.serverUrl+"/api/follows");case 13:r=e.sent,n=r.data,x.dispatch({type:i.SaveAllFollows,payload:n}),x.dispatch({type:i.SaveAllVacations,payload:a}),x.dispatch({type:i.PrepareVacationsForUser}),e.next=29;break;case 20:if(e.prev=20,e.t0=e.catch(6),"Your login session has expired"!==e.t0.response.data){e.next=28;break}return sessionStorage.clear(),this.props.history.push("/login"),e.abrupt("return");case 28:alert(e.t0);case 29:this.socket.on("Admin-updated-a-vacation-from-server",(function(e){x.dispatch({type:i.saveOneVacation,payload:e})})),this.socket.on("added-vacation-from-server",(function(e){x.dispatch({type:i.addOneVacation,payload:e})})),this.socket.on("removed-vacation-from-server",(function(e){x.dispatch({type:i.deleteOneVacation,payload:e})})),this.socket.on("follows-updated-from-server",Object(f.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(F.serverUrl+"/api/follows");case 2:t=e.sent,a=t.data,x.dispatch({type:i.SaveAllFollows,payload:a}),x.dispatch({type:i.PrepareVacationsForUser});case 6:case"end":return e.stop()}}),e)}))));case 33:case"end":return e.stop()}}),e,this,[[6,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"home"},n.a.createElement(U,null),n.a.createElement("br",null),n.a.createElement("div",{className:"cardContainer"},this.state.vacations.map((function(t){return n.a.createElement(w.a,{style:{width:"18rem",margin:"10px"},className:"card",key:t.vacationId},n.a.createElement(w.a.Img,{variant:"top",className:"img",src:"/assets/images/vacations/"+t.img}),n.a.createElement(w.a.Body,null,t.isFollow?n.a.createElement(D.a,{color:"yellow",size:20,onClick:function(){return e.removeFollow(t.vacationId)}}):n.a.createElement(D.a,{color:"grey",size:20,onClick:function(){return e.addFollow(t.vacationId)}}),n.a.createElement(w.a.Title,null,t.destination),n.a.createElement(w.a.Text,null,t.description)),n.a.createElement(j.a,{className:"list-group-flush"},n.a.createElement(O.a,null,"Follows: ",t.follows),n.a.createElement(O.a,null,"Start: ",new Date(t.startingDate).toDateString()),n.a.createElement(O.a,null,"end: ",new Date(t.endingDate).toDateString()),n.a.createElement(O.a,null,"Cost: ",t.price,"$"),n.a.createElement(O.a,null,n.a.createElement(m.b,{className:"purchase",to:"/purchase/"+t.vacationId,exact:!0}," purchase "))))}))))}}]),a}(r.Component);a(178);function T(e){return""===e?"Missing user name":e.length<2?"User name too short":e.length>15?"User name too long":""}function V(e){return""===e?"Missing password":e.length<6?"password is too short":e.length>10?"password is too long":""}var P=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).setUserName=function(e){var t,a=e.target.value;"user name is not available"!==(t=function(e,t){var a="";return t.forEach((function(t){e===t.userName&&(a="user name is not available")})),a}(a,r.state.usersNames))&&(t=T(a));var n=Object(y.a)({},r.state.errors);n.userNameError=t,r.setState({errors:n});var s=Object(y.a)({},r.state.user);s.userName=a,r.setState({user:s})},r.setFirstName=function(e){var t=e.target.value,a=function(e){return""===e?"Missing first name":e.length<2?"first name is too short":e.length>10?"first name is too long":"A"<=e[0]&&e[0]<="Z"?"":"first name must start with a capital letter"}(t),n=Object(y.a)({},r.state.errors);n.firstNameError=a,r.setState({errors:n});var s=Object(y.a)({},r.state.user);s.firstName=t,r.setState({user:s})},r.setLastName=function(e){var t=e.target.value,a=function(e){return""===e?"Missing last name":e.length<2?"last name is too short":e.length>10?"last name is too long":"A"<=e[0]&&e[0]<="Z"?"":"first name must start with a capital letter"}(t),n=Object(y.a)({},r.state.errors);n.lastNameError=a,r.setState({errors:n});var s=Object(y.a)({},r.state.user);s.lastName=t,r.setState({user:s})},r.setPassword=function(e){var t=e.target.value,a=V(t),n=Object(y.a)({},r.state.errors);n.passwordError=a,r.setState({errors:n});var s=Object(y.a)({},r.state.user);s.password=t,r.setState({user:s})},r.verifyPasswordUser=function(e){var t=function(e,t){return""===e?"Missing verified password":e!==t?"verify password":""}(e.target.value,Object(y.a)({},r.state.user).password),a=Object(y.a)({},r.state.errors);a.verifyPasswordError=t,r.setState({errors:a})},r.isFormLegal=function(){for(var e in r.state.errors)if(""!==r.state.errors[e].toString())return!1;return!0},r.register=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post(F.serverUrl+"/api/auth/register",r.state.user);case 3:t=e.sent,sessionStorage.setItem("user",JSON.stringify(t.data.user)),sessionStorage.setItem("token",t.data.token),r.props.history.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),r.state={user:new k,usersNames:[],errors:{userNameError:"*",firstNameError:"*",lastNameError:"*",passwordError:"*",verifyPasswordError:"*"}},r}return Object(l.a)(a,[{key:"getAllUsersNames",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get(F.serverUrl+"/api/auth/usersNames");case 3:t=e.sent,a=t.data,this.setState({usersNames:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){sessionStorage.getItem("token")?this.props.history.push("/"):this.getAllUsersNames()}},{key:"render",value:function(){return n.a.createElement("div",{className:"registration"},n.a.createElement("div",{className:"cardRegistration"},n.a.createElement("h1",null,"Sign up"),n.a.createElement("input",{type:"text",name:"",id:"userBox",placeholder:"User Name",onChange:this.setUserName}),n.a.createElement("span",null,this.state.errors.userNameError),n.a.createElement("input",{type:"text",name:"",id:"userBox",placeholder:"First Name",onChange:this.setFirstName}),n.a.createElement("span",null,this.state.errors.firstNameError),n.a.createElement("input",{type:"text",name:"",id:"userBox",placeholder:"Last Name",onChange:this.setLastName}),n.a.createElement("span",null,this.state.errors.lastNameError),n.a.createElement("input",{type:"password",name:"",id:"userBox",placeholder:"Password",onChange:this.setPassword}),n.a.createElement("span",null,this.state.errors.passwordError),n.a.createElement("input",{type:"password",name:"",id:"userBox",placeholder:"Verify Password",onChange:this.verifyPasswordUser}),n.a.createElement("span",null,this.state.errors.verifyPasswordError),n.a.createElement("br",null),n.a.createElement("button",{disabled:!this.isFormLegal(),onClick:this.register},"Sign up"),n.a.createElement(m.b,{className:"navigateLogin",to:"/login",exact:!0},"Do you have an account? Sign in now")))}}]),a}(r.Component),L=(a(179),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).setUserName=function(e){var t=e.target.value,a=T(t),n=Object(y.a)({},r.state.errors);n.userNameError=a,r.setState({errors:n});var s=Object(y.a)({},r.state.user);s.userName=t,r.setState({user:s})},r.setPassword=function(e){var t=e.target.value,a=V(t),n=Object(y.a)({},r.state.errors);n.passwordError=a,r.setState({errors:n});var s=Object(y.a)({},r.state.user);s.password=t,r.setState({user:s})},r.login=Object(f.a)(h.a.mark((function e(){var t,a,n,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post(F.serverUrl+"/api/auth/login",r.state.user);case 3:t=e.sent,sessionStorage.setItem("user",JSON.stringify(t.data.user)),sessionStorage.setItem("token",t.data.token),r.props.history.push("/"),e.next=17;break;case 9:if(e.prev=9,e.t0=e.catch(0),"Illegal username or password"!==(null===(a=e.t0.response)||void 0===a?void 0:a.data)){e.next=16;break}return alert(null===(n=e.t0.response)||void 0===n?void 0:n.data),e.abrupt("return");case 16:alert(null===(s=e.t0.response)||void 0===s?void 0:s.data);case 17:case"end":return e.stop()}}),e,null,[[0,9]])}))),r.isFormLegal=function(){for(var e in r.state.errors)if(""!==r.state.errors[e].toString())return!1;return!0},r.state={user:new k,errors:{userNameError:"*",passwordError:"*"}},r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){sessionStorage.getItem("token")&&JSON.parse(sessionStorage.getItem("user"))&&this.props.history.push("/")}},{key:"render",value:function(){return n.a.createElement("div",{className:"login"},n.a.createElement("div",{className:"card-login"},n.a.createElement("form",{className:"form-login",action:""},n.a.createElement("h1",null,"Login"),n.a.createElement("input",{type:"text",name:"",id:"userBox",placeholder:"User Name",onChange:this.setUserName}),n.a.createElement("input",{type:"password",name:"",id:"userBox",placeholder:"Password",onChange:this.setPassword}),n.a.createElement("br",null),n.a.createElement(C.a,{variant:"primary",type:"submit",disabled:!this.isFormLegal(),onClick:this.login},"Login")),n.a.createElement(m.b,{className:"navigate",to:"/registration",exact:!0},"Not a member? Sign up now")))}}]),a}(r.Component)),B=(a(180),a(283)),M=a(284),J=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).unsubscribeStore=void 0,r.socket=void 0,r.getDataWithAjax=Object(f.a)(h.a.mark((function e(){var t,a,n,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get(F.serverUrl+"/api/vacations");case 3:t=e.sent,a=t.data,x.dispatch({type:i.SaveAllVacations,payload:a}),e.next=18;break;case 8:if(e.prev=8,e.t0=e.catch(0),"Your login session has expired"!==(null===(n=e.t0.response)||void 0===n?void 0:n.data)){e.next=17;break}return sessionStorage.clear(),alert(null===(s=e.t0.response)||void 0===s?void 0:s.data),r.props.history.push("/login"),e.abrupt("return");case 17:alert(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,8]])}))),r.state={vacations:x.getState().vacations},r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sessionStorage.getItem("token")&&sessionStorage.getItem("user")){e.next=5;break}return this.props.history.push("/login"),e.abrupt("return");case 5:JSON.parse(sessionStorage.getItem("user")).isAdmin||this.props.history.push("/");case 6:if(this.socket=I.a.connect("http://localhost:3000"),this.unsubscribeStore=x.subscribe((function(){var e=x.getState().vacations;t.setState({vacations:e})})),!(this.state.vacations.length>0)){e.next=10;break}return e.abrupt("return");case 10:this.getDataWithAjax(),this.socket.on("Admin-updated-a-vacation-from-server",(function(e){x.dispatch({type:i.saveOneVacation,payload:e})})),this.socket.on("added-vacation-from-server",(function(e){x.dispatch({type:i.addOneVacation,payload:e})})),this.socket.on("removed-vacation-from-server",(function(e){x.dispatch({type:i.deleteOneVacation,payload:e})}));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.unsubscribeStore(),this.socket.disconnect()}},{key:"delete",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.delete("".concat(F.serverUrl,"/api/vacations/").concat(t));case 3:x.dispatch({type:i.deleteOneVacation,payload:t}),this.socket.emit("Admin-removed-a-vacation-from-client",t),e.next=17;break;case 7:if(e.prev=7,e.t0=e.catch(0),"Your login session has expired"!==(null===(a=e.t0.response)||void 0===a?void 0:a.data)){e.next=16;break}return sessionStorage.clear(),alert(null===(r=e.t0.response)||void 0===r?void 0:r.data),this.props.history.push("/login"),e.abrupt("return");case 16:alert(e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"home"},n.a.createElement(U,null),n.a.createElement("br",null),n.a.createElement("div",{className:"card-Container"},this.state.vacations.map((function(t){return n.a.createElement(w.a,{style:{width:"18rem",margin:"10px"},key:t.vacationId},n.a.createElement(w.a.Img,{variant:"top",className:"img",src:"/assets/images/vacations/"+t.img}),n.a.createElement(w.a.Body,null,n.a.createElement(B.a,{className:"delete",color:"black",size:20,onClick:function(){return e.delete(t.vacationId)}}),n.a.createElement(m.b,{to:"/admin/"+t.vacationId},n.a.createElement(M.a,{color:"black",size:20})),n.a.createElement(w.a.Title,null,t.destination),n.a.createElement(w.a.Text,null,t.description)),n.a.createElement(j.a,{className:"list-group-flush"},n.a.createElement(O.a,null,"Start: ",new Date(t.startingDate).toDateString()),n.a.createElement(O.a,null,"end: ",new Date(t.endingDate).toDateString()),n.a.createElement(O.a,null,"Cost: ",t.price,"$")))}))),n.a.createElement("br",null))}}]),a}(r.Component),W=a(47);a(181);function G(e){var t=new Date(e);return t.setDate(t.getDate()+1),t.toISOString().split("T")[0]}function Y(e){var t=new Date(e);return t.setDate(t.getDate()-1),t.setHours(24),t.toJSON()}function z(e){return""===e?"Missing description":e.length<3?"Description is too short":e.length>200?"Description is too long":""}function R(e){return""===e?"Missing destination":e.length<2?"Destination is too short":e.length>30?"Destination is too long":"A"<=e[0]&&e[0]<="Z"?"":"Destination must start with a capital letter"}function H(e){return e?e<0?"Price can't be negative":e>5e4?"Price is too high":"":"Missing price"}var $=a(4),Z=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).unsubscribeStore=void 0,r.socket=void 0,r.setDescription=function(e){var t,a=e.target.value;t=z(a);var n=Object(y.a)({},r.state.errors);n.descriptionError=t,r.setState({errors:n});var s=Object(y.a)({},r.state.vacation);s.description=a,r.setState({vacation:s})},r.setDestination=function(e){var t,a=e.target.value;t=R(a);var n=Object(y.a)({},r.state.errors);n.destinationError=t,r.setState({errors:n});var s=Object(y.a)({},r.state.vacation);s.destination=a,r.setState({vacation:s})},r.setImgUrl=function(e){var t=e.target.value;var a=Object(y.a)({},r.state.errors);a.imgError="",r.setState({errors:a});var n=Object(y.a)({},r.state.vacation);n.img=t,r.setState({vacation:n})},r.setStartingDate=function(e){var t=e.target.value;var a=Object(y.a)({},r.state.errors);a.startingDateError="",r.setState({errors:a});var n=Object(y.a)({},r.state.vacation);n.startingDate=t,r.setState({vacation:n})},r.setEndingDate=function(e){var t=e.target.value;var a=Object(y.a)({},r.state.errors);a.endingDateError="",r.setState({errors:a});var n=Object(y.a)({},r.state.vacation);n.endingDate=t,r.setState({vacation:n})},r.setPrice=function(e){var t,a=+e.target.value;t=H(a);var n=Object(y.a)({},r.state.errors);n.priceError=t,r.setState({errors:n});var s=Object(y.a)({},r.state.vacation);s.price=a,r.setState({vacation:s})},r.update=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(y.a)({},r.state.vacation),console.log(t),console.log(F.serverUrl),e.next=6,E.a.put("".concat(F.serverUrl,"/api/vacations/").concat(+r.props.match.params.id),t);case 6:console.log("after axios"),t.startingDate=Y(t.startingDate),t.endingDate=Y(t.endingDate),x.dispatch({type:i.saveOneVacation,payload:t}),r.socket.emit("Admin-updated-a-vacation-from-client",t),r.props.history.push("/admin"),e.next=31;break;case 14:if(e.prev=14,e.t0=e.catch(0),console.log("err"),console.log(e.t0),"Your login session has expired"!==e.t0.response.data){e.next=25;break}return sessionStorage.clear(),alert(e.t0.response.data),r.props.history.push("/login"),e.abrupt("return");case 25:if("You are not admin!"!==e.t0.response.data){e.next=30;break}return r.props.history.push("/login"),e.abrupt("return");case 30:alert(e.t0);case 31:case"end":return e.stop()}}),e,null,[[0,14]])}))),r.state={vacations:x.getState().vacations,vacation:{},errors:{descriptionError:"",destinationError:"",imgError:"",startingDateError:"",endingDateError:"",priceError:""}},r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,r,n,s,o,i,c=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.socket=I.a.connect("http://localhost:3000"),this.unsubscribeStore=x.subscribe((function(){var e=x.getState().vacations;c.setState({vacations:e})})),sessionStorage.getItem("token")&&sessionStorage.getItem("user")){e.next=7;break}return this.props.history.push("/login"),e.abrupt("return");case 7:JSON.parse(sessionStorage.getItem("user")).isAdmin||this.props.history.push("/");case 8:if(!(this.state.vacations.length>0)){e.next=13;break}a=Object(W.a)(this.state.vacations);try{for(a.s();!(r=a.n()).done;)(n=r.value).vacationId===+this.props.match.params.id&&(t=Object(y.a)({},n))}catch(l){a.e(l)}finally{a.f()}e.next=30;break;case 13:return e.prev=13,e.next=16,E.a.get("".concat(F.serverUrl,"/api/vacations/").concat(+this.props.match.params.id));case 16:s=e.sent,t=s.data,e.next=30;break;case 20:if(e.prev=20,e.t0=e.catch(13),console.log(e.t0),"Your login session has expired"!==(null===(o=e.t0.response)||void 0===o?void 0:o.data)){e.next=29;break}return sessionStorage.clear(),alert(e.t0),e.abrupt("return");case 29:alert(null===(i=e.t0.response)||void 0===i?void 0:i.data);case 30:t.startingDate=G(t.startingDate),t.endingDate=G(t.endingDate),this.setState({vacation:t});case 33:case"end":return e.stop()}}),e,this,[[13,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.unsubscribeStore(),this.socket.disconnect()}},{key:"isFormLegal",value:function(){for(var e in this.state.errors)if(""!==this.state.errors[e].toString())return!1;return!0}},{key:"render",value:function(){return n.a.createElement("div",{className:"EditVacation"},n.a.createElement(U,null),n.a.createElement("div",{className:"form-container"},n.a.createElement("h1",null,"Edit Vacation"),n.a.createElement("br",null),n.a.createElement($.a,null,n.a.createElement($.a.Group,{controlId:"formBasicText"},n.a.createElement($.a.Label,null,"Destination"),n.a.createElement($.a.Control,{type:"text",placeholder:"Enter description",value:this.state.vacation.destination||"",onChange:this.setDestination}),n.a.createElement($.a.Text,{className:"text-muted"},this.state.errors.destinationError)),n.a.createElement($.a.Group,{controlId:"formBasicText"},n.a.createElement($.a.Label,null,"Description"),n.a.createElement($.a.Control,{type:"text",placeholder:"Enter description",value:this.state.vacation.description||"",onChange:this.setDescription}),n.a.createElement($.a.Text,{className:"text-muted"},this.state.errors.descriptionError)),n.a.createElement($.a.Group,{controlId:"formBasicText"},n.a.createElement($.a.Label,null,"Image URL"),n.a.createElement($.a.Control,{type:"text",placeholder:"Enter description",value:this.state.vacation.img||"",onChange:this.setImgUrl}),n.a.createElement($.a.Text,{className:"text-muted"},this.state.errors.imgError)),n.a.createElement($.a.Group,{controlId:"formBasicText"},n.a.createElement($.a.Label,null,"Start Date"),n.a.createElement($.a.Control,{type:"date",placeholder:"Enter description",value:this.state.vacation.startingDate||"",onChange:this.setStartingDate}),n.a.createElement($.a.Text,{className:"text-muted"},this.state.errors.startingDateError)),n.a.createElement($.a.Group,{controlId:"formBasicText"},n.a.createElement($.a.Label,null,"Ending Date"),n.a.createElement($.a.Control,{type:"date",placeholder:"Enter description",value:this.state.vacation.endingDate||"",onChange:this.setEndingDate}),n.a.createElement($.a.Text,{className:"text-muted"},this.state.errors.endingDateError)),n.a.createElement($.a.Group,{controlId:"formBasicText"},n.a.createElement($.a.Label,null,"Price"),n.a.createElement($.a.Control,{type:"text",placeholder:"Enter description",value:this.state.vacation.price||"",onChange:this.setPrice}),n.a.createElement($.a.Text,{className:"text-muted"},this.state.errors.priceError)),n.a.createElement(C.a,{variant:"primary",type:"submit",disabled:!this.isFormLegal(),onClick:this.update},"Submit"))))}}]),a}(r.Component),_=(a(183),function e(t,a,r,n,s,o,i,l,u){Object(c.a)(this,e),this.vacationId=t,this.description=a,this.destination=r,this.img=n,this.startingDate=s,this.endingDate=o,this.price=i,this.follows=l,this.isFollow=u}),q=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).socket=void 0,r.setDescription=function(e){var t,a=e.target.value;t=z(a);var n=Object(y.a)({},r.state.errors);n.descriptionError=t,r.setState({errors:n});var s=Object(y.a)({},r.state.vacation);s.description=a,r.setState({vacation:s})},r.setDestination=function(e){var t,a=e.target.value;t=R(a);var n=Object(y.a)({},r.state.errors);n.destinationError=t,r.setState({errors:n});var s=Object(y.a)({},r.state.vacation);s.destination=a,r.setState({vacation:s})},r.setImgUrl=function(e){var t=e.target.value;var a=Object(y.a)({},r.state.errors);a.imgError="",r.setState({errors:a});var n=Object(y.a)({},r.state.vacation);n.img=t,r.setState({vacation:n})},r.setStartingDate=function(e){var t=e.target.value;var a=Object(y.a)({},r.state.errors);a.startingDateError="",r.setState({errors:a});var n=Object(y.a)({},r.state.vacation);n.startingDate=t,r.setState({vacation:n})},r.setEndingDate=function(e){var t=e.target.value;var a=Object(y.a)({},r.state.errors);a.endingDateError="",r.setState({errors:a});var n=Object(y.a)({},r.state.vacation);n.endingDate=t,r.setState({vacation:n})},r.setPrice=function(e){var t,a=+e.target.value;t=H(a);var n=Object(y.a)({},r.state.errors);n.priceError=t,r.setState({errors:n});var s=Object(y.a)({},r.state.vacation);s.price=a,r.setState({vacation:s})},r.add=Object(f.a)(h.a.mark((function e(){var t,a,n,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post(F.serverUrl+"/api/vacations",r.state.vacation);case 3:t=e.sent,(a=t.data).follows=0,a.startingDate=Y(a.startingDate),a.endingDate=Y(a.endingDate),console.log(a),x.dispatch({type:i.addOneVacation,payload:a}),r.socket.emit("Admin-added-a-vacation-from-client",a),r.props.history.push("/admin"),e.next=29;break;case 14:if(e.prev=14,e.t0=e.catch(0),"Your login session has expired"!==(null===(n=e.t0.response)||void 0===n?void 0:n.data)){e.next=23;break}return sessionStorage.clear(),alert(null===(o=e.t0.response)||void 0===o?void 0:o.data),r.props.history.push("/login"),e.abrupt("return");case 23:if("You are not admin!"!==(null===(s=e.t0.response)||void 0===s?void 0:s.data)){e.next=28;break}return r.props.history.push("/login"),e.abrupt("return");case 28:alert(e.t0);case 29:case"end":return e.stop()}}),e,null,[[0,14]])}))),r.state={vacation:new _,errors:{descriptionError:"*",destinationError:"*",imgError:"*",startingDateError:"*",endingDateError:"*",priceError:"*"}},r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sessionStorage.getItem("token")&&sessionStorage.getItem("user")){e.next=5;break}return this.props.history.push("/login"),e.abrupt("return");case 5:JSON.parse(sessionStorage.getItem("user")).isAdmin||this.props.history.push("/");case 6:this.socket=I.a.connect("http://localhost:3000");case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isFormLegal",value:function(){for(var e in this.state.errors)if(""!==this.state.errors[e].toString())return!1;return!0}},{key:"componentWillUnmount",value:function(){this.socket.disconnect()}},{key:"render",value:function(){return n.a.createElement("div",{className:"EditVacation"},n.a.createElement(U,null),n.a.createElement("div",{className:"edit-container"},n.a.createElement("h1",null,"Add Vacation"),n.a.createElement("br",null),n.a.createElement($.a.Group,{controlId:"formBasicText"},n.a.createElement($.a.Label,null,"Destination"),n.a.createElement($.a.Control,{type:"text",placeholder:"Enter destination",value:this.state.vacation.destination||"",onChange:this.setDestination}),n.a.createElement($.a.Text,{className:"text-muted"},"*"==this.state.errors.destinationError?"":this.state.errors.destinationError)),n.a.createElement($.a.Group,{controlId:"formBasicText"},n.a.createElement($.a.Label,null,"Description"),n.a.createElement($.a.Control,{type:"text",placeholder:"Enter description",value:this.state.vacation.description||"",onChange:this.setDescription}),n.a.createElement($.a.Text,{className:"text-muted"},"*"==this.state.errors.descriptionError?"":this.state.errors.descriptionError)),n.a.createElement($.a.Group,{controlId:"formBasicText"},n.a.createElement($.a.Label,null,"Image URL"),n.a.createElement($.a.Control,{type:"text",placeholder:"Enter img",value:this.state.vacation.img||"",onChange:this.setImgUrl}),n.a.createElement($.a.Text,{className:"text-muted"},"*"==this.state.errors.imgError?"":this.state.errors.imgError)),n.a.createElement($.a.Group,{controlId:"formBasicText"},n.a.createElement($.a.Label,null,"Start Date"),n.a.createElement($.a.Control,{type:"date",value:this.state.vacation.startingDate||"",onChange:this.setStartingDate}),n.a.createElement($.a.Text,{className:"text-muted"},"*"==this.state.errors.startingDateError?"":this.state.errors.startingDateError)),n.a.createElement($.a.Group,{controlId:"formBasicText"},n.a.createElement($.a.Label,null,"Ending Date"),n.a.createElement($.a.Control,{type:"date",value:this.state.vacation.endingDate||"",onChange:this.setEndingDate}),n.a.createElement($.a.Text,{className:"text-muted"},"*"==this.state.errors.endingDateError?"":this.state.errors.endingDateError)),n.a.createElement($.a.Group,{controlId:"formBasicText"},n.a.createElement($.a.Label,null,"Price"),n.a.createElement($.a.Control,{type:"text",placeholder:"Enter description",value:this.state.vacation.price||"",onChange:this.setPrice}),n.a.createElement($.a.Text,{className:"text-muted"},"*"==this.state.errors.priceError?"":this.state.errors.priceError)),n.a.createElement(C.a,{variant:"primary",type:"submit",disabled:!this.isFormLegal(),onClick:this.add},"Submit")))}}]),a}(r.Component),K=(a(184),a(113));function Q(){var e=Math.floor(255*Math.random()),t=Math.floor(255*Math.random()),a=Math.floor(255*Math.random());return"rgba(".concat(e,",").concat(t,",").concat(a,",0.5)")}var X=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).unsubscribeStore=void 0,r.socket=void 0,r.state={vacations:x.getState().vacations,follows:x.getState().follows,vacationsDestinations:[],vacationsFollows:[],colors:[]},r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,r,n=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sessionStorage.getItem("token")&&sessionStorage.getItem("user")){e.next=5;break}return this.props.history.push("/login"),e.abrupt("return");case 5:JSON.parse(sessionStorage.getItem("user")).isAdmin||this.props.history.push("/");case 6:this.socket=I.a.connect("http://localhost:3000"),this.unsubscribeStore=x.subscribe((function(){var e=x.getState().vacations,t=x.getState().follows;n.setState({vacations:e,follows:t})})),0===this.state.vacations.length||0===this.state.follows.length?this.getDataWithAjax():(t=[],a=[],r=[],this.state.vacations.forEach((function(e){e.follows>0&&(t.push(e.destination),a.push(e.follows),r.push(Q()))})),this.setState({vacationsDestinations:t,vacationsFollows:a,colors:r})),this.socket.on("added-vacation-from-server",(function(e){n.getDataWithAjax()})),this.socket.on("removed-vacation-from-server",(function(e){n.getDataWithAjax()})),this.socket.on("follows-updated-from-server",Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.getDataWithAjax();case 1:case"end":return e.stop()}}),e)}))));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDataWithAjax",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,r,n,s,o,c,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get(F.serverUrl+"/api/vacations");case 3:return t=e.sent,a=t.data,e.next=7,E.a.get(F.serverUrl+"/api/follows");case 7:r=e.sent,n=r.data,x.dispatch({type:i.SaveAllFollows,payload:n}),x.dispatch({type:i.SaveAllVacations,payload:a}),x.dispatch({type:i.PrepareVacationsForUser}),e.next=24;break;case 14:if(e.prev=14,e.t0=e.catch(0),"Your login session has expired"!==(null===(s=e.t0.response)||void 0===s?void 0:s.data)){e.next=23;break}return sessionStorage.clear(),alert(null===(o=e.t0.response)||void 0===o?void 0:o.data),this.props.history.push("/login"),e.abrupt("return");case 23:alert(e.t0);case 24:c=[],l=[],u=[],this.state.vacations.forEach((function(e){e.follows>0&&(c.push(e.destination),l.push(e.follows),u.push(Q()))})),this.setState({vacationsDestinations:c,vacationsFollows:l,colors:u});case 29:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.unsubscribeStore(),this.socket.disconnect()}},{key:"render",value:function(){return n.a.createElement("div",{className:"reports"},n.a.createElement(U,null),n.a.createElement("br",null),n.a.createElement(K.Bar,{data:{labels:this.state.vacationsDestinations,datasets:[{label:"Follows",data:this.state.vacationsFollows,backgroundColor:this.state.colors}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0,userCallback:function(e,t,a){if(Math.floor(e)===e)return e}}}]}}}))}}]),a}(r.Component),ee=(a(279),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;Object(c.a)(this,a),(r=t.call(this,e)).unsubscribeStore=void 0,r.setAmountOfTickets=function(e){console.log("this.state.purchase"),console.log(r.state.purchase);var t=Object(y.a)({},r.state.purchase);t.tickets=+e.target.value,t.totalPrice=t.tickets*r.state.vacation.price,r.setState({purchase:t}),console.log("this.state.purchase"),console.log(r.state.purchase)},r.send=Object(f.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new Date,(a=Object(y.a)({},r.state.purchase)).date=t,console.log("send"),console.log("purchase"),console.log(a),e.next=9,E.a.post(F.serverUrl+"/api/purchases",a);case 9:n=e.sent,console.log("response.data"),console.log(n.data),a=n.data,r.props.history.push("/"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return r.state={vacations:x.getState().vacations,purchase:{},vacation:{},errors:{descriptionError:"",destinationError:"",imgError:"",startingDateError:"",endingDateError:"",priceError:""}},r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,r,n,s,o,i=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.unsubscribeStore=x.subscribe((function(){var e=x.getState().vacations;i.setState({vacations:e})})),e.prev=1,!(this.state.vacations.length>0)){e.next=7;break}a=Object(W.a)(this.state.vacations);try{for(a.s();!(r=a.n()).done;)(n=r.value).vacationId===+this.props.match.params.id&&(t=Object(y.a)({},n))}catch(c){a.e(c)}finally{a.f()}e.next=11;break;case 7:return e.next=9,E.a.get("".concat(F.serverUrl,"/api/vacations/").concat(+this.props.match.params.id));case 9:s=e.sent,t=s.data;case 11:t.startingDate=G(t.startingDate),t.endingDate=G(t.endingDate),this.setState({vacation:t}),(o=Object(y.a)({},this.state.purchase)).vacationId=t.vacationId,o.userName=JSON.parse(sessionStorage.getItem("user")).userName,o.priceForTicket=t.price,this.setState({purchase:o}),console.log("this.state.purchase"),console.log(this.state.purchase),e.next=25;break;case 23:e.prev=23,e.t0=e.catch(1);case 25:case"end":return e.stop()}}),e,this,[[1,23]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.unsubscribeStore()}},{key:"isFormLegal",value:function(){return!(this.state.purchase.totalPrice<=0)}},{key:"render",value:function(){return n.a.createElement("div",{className:"purchaseVacation"},n.a.createElement(U,null),n.a.createElement("br",null),n.a.createElement(w.a,null,n.a.createElement(w.a.Header,null,n.a.createElement("div",{className:"header"},n.a.createElement("img",{className:"img",src:"/assets/images/vacations/"+this.state.vacation.img}),n.a.createElement("span",{className:"destination"},this.state.vacation.destination||""))),n.a.createElement(w.a.Body,null,n.a.createElement(w.a.Title,null,"Description:"),n.a.createElement(w.a.Text,null,this.state.vacation.description||""),n.a.createElement(w.a.Title,null,"Vacation Date:"),n.a.createElement(w.a.Text,null,"From ",new Date(this.state.vacation.startingDate).toDateString()," to  ",new Date(this.state.vacation.endingDate).toDateString()),n.a.createElement(w.a.Title,null,"One ticket cost:"),n.a.createElement(w.a.Text,null,this.state.vacation.price||"","$")),n.a.createElement(w.a.Header,null,n.a.createElement("h2",null,"Purchase")),n.a.createElement(w.a.Body,null,n.a.createElement(w.a.Text,null,"Number Of tickets: ",n.a.createElement("input",{type:"text",pattern:"[0-9]*",onInput:this.setAmountOfTickets.bind(this),value:this.state.purchase.tickets})),n.a.createElement(w.a.Text,null,"Total price: ",this.state.purchase.totalPrice||"","$"),n.a.createElement(w.a.Text,null,n.a.createElement(C.a,{variant:"primary",type:"submit",disabled:!this.isFormLegal(),onClick:this.send},"Buy")))))}}]),a}(r.Component)),te=(a(280),a(114)),ae=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;Object(c.a)(this,a),(r=t.call(this,e)).unsubscribeStore=void 0;return r.state={purchases:[],vacations:[]},r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,r,n,s=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.unsubscribeStore=x.subscribe((function(){var e=x.getState().vacations;s.setState({vacations:e})})),t=x.getState().vacations,e.prev=2,0!==this.state.purchases.length){e.next=8;break}return e.next=6,E.a.get("".concat(F.serverUrl,"/api/purchases"));case 6:r=e.sent,a=r.data;case 8:if(0!==this.state.vacations.length){e.next=13;break}return e.next=11,E.a.get("".concat(F.serverUrl,"/api/vacations"));case 11:n=e.sent,t=n.data;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0);case 18:this.setState({vacations:t}),a.forEach((function(e){e.vacation=t.find((function(t){return t.vacationId==e.vacationId}))})),this.setState({purchases:a}),console.log(a);case 22:case"end":return e.stop()}}),e,this,[[2,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.unsubscribeStore()}},{key:"render",value:function(){return n.a.createElement("div",{className:"purchases"},n.a.createElement(U,null),n.a.createElement("div",{className:"table-container"},n.a.createElement("h1",null,"Purchases"),n.a.createElement("br",null),n.a.createElement(te.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"User Name"),n.a.createElement("th",null,"Number of Tickets"),n.a.createElement("th",null,"Total price"),n.a.createElement("th",null,"Vacation"),n.a.createElement("th",null,"Date"))),this.state.purchases.map((function(e){return n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,e.userName),n.a.createElement("td",null,e.tickets),n.a.createElement("td",null,e.totalPrice),n.a.createElement("td",null,e.vacation.destination),n.a.createElement("td",null,new Date(e.date).toDateString())))})))))}}]),a}(r.Component),re=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(c.a)(this,a),r=t.call(this,e),E.a.interceptors.request.use((function(e){return e.headers.authorization="Bearer "+sessionStorage.getItem("token"),e})),E.a.interceptors.response.use((function(e){return e})),r}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"layout"},n.a.createElement(m.a,null,n.a.createElement(d.c,null,n.a.createElement(d.a,{exact:!0,path:"/",render:function(e){return n.a.createElement(A,Object.assign({},e,{key:"layout"}))}}),n.a.createElement(d.a,{exact:!0,path:"/login",key:"login",render:function(e){return n.a.createElement(L,e)}}),n.a.createElement(d.a,{exact:!0,path:"/registration",key:"registration",render:function(e){return n.a.createElement(P,e)}}),n.a.createElement(d.a,{exact:!0,path:"/purchase/:id",key:"purchase",render:function(e){return n.a.createElement(ee,e)}}),n.a.createElement(d.a,{exact:!0,path:"/purchases",key:"purchases",render:function(e){return n.a.createElement(ae,e)}}),n.a.createElement(d.a,{exact:!0,path:"/admin",key:"registration",render:function(e){return n.a.createElement(J,e)}}),n.a.createElement(d.a,{exact:!0,path:"/admin/add",key:"add",render:function(e){return n.a.createElement(q,e)}}),n.a.createElement(d.a,{exact:!0,path:"/admin/:id",key:"edit",render:function(e){return n.a.createElement(Z,e)}}),n.a.createElement(d.a,{exact:!0,path:"/reports",key:"reports",render:function(e){return n.a.createElement(X,e)}}))))}}]),a}(r.Component);o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[115,1,2]]]);
//# sourceMappingURL=main.7fd1a3dc.chunk.js.map